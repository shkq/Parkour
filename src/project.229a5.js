require=function i(a,n,l){function u(t,e){if(!n[t]){if(!a[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(s)return s(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var c=n[t]={exports:{}};a[t][0].call(c.exports,function(e){return u(a[t][1][e]||e)},c,c.exports,i,a,n,l)}return n[t].exports}for(var s="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({Index:[function(e,t,o){"use strict";cc._RF.push(t,"e1b90/rohdEk4SdmmEZANaD","Index"),Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,i=r.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blockPrefab=null,e.foregroundNode=null,e.templateQueue=[],e.blockPool=new cc.NodePool("block"),e.wave=0,e.templateHeight=1334,e.speed=10,e.createBlockFlag=0,e}return __extends(e,t),e.prototype.start=function(){for(var e=0;e<6;++e)this.blockPool.put(cc.instantiate(this.blockPrefab));this.createNewBlock(),this.createNewBlock(),this.createNewBlock(),this.createNewBlock()},e.prototype.createNewBlock=function(){var e=this.blockPool.get();if(e.y=this.templateHeight*(this.wave-2),e.x=0,e.parent=this.foregroundNode,this.templateQueue.push(e),4<this.wave){var t=this.templateQueue.shift();this.blockPool.put(t)}this.wave++},e.prototype.update=function(){this.foregroundNode.y-=this.speed,this.createBlockFlag+=this.speed,this.createBlockFlag>this.templateHeight&&(this.createNewBlock(),this.createBlockFlag-=this.templateHeight)},__decorate([i(cc.Prefab)],e.prototype,"blockPrefab",void 0),__decorate([i(cc.Node)],e.prototype,"foregroundNode",void 0),e=__decorate([c],e)}(cc.Component);o.default=a,cc._RF.pop()},{}]},{},["Index"]);